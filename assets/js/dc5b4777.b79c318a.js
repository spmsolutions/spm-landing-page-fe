"use strict";(self.webpackChunk_spmsolutions_website=self.webpackChunk_spmsolutions_website||[]).push([[22864],{99680:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var i=s(96540),a=s(44586),n=s(86025),l=s(49641),r=s(23271),o=s(74848);function p(){const e=(0,a.A)(),{siteConfig:t={}}=e,[s,p]=(0,i.useState)(!0),[c,d]=(0,i.useState)("Initializing"),[u,m]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{const e=await(0,r.QH)({iframe:w.current,remoteUrl:"https://playground.wordpress.net/remote.html",blueprint:{preferredVersions:{php:"8.3",wp:"6.4"},phpExtensionBundles:["kitchen-sink"],features:{networking:!0},landingPage:"/wp-admin",steps:[{step:"login",username:"admin",password:"password"}]},sapiName:"cli"});d("Loading theme"),m(25);const t="devkit-components.zip",s=await fetch(`/${t}`,{headers:{"Content-Type":"application/octet-stream"},credentials:"include"});m(33),d("Unpacking theme");const i=await s.blob(),a=new File([i],t);m(50),d("Installing theme"),await(0,r.XT)(e,{themeZipFile:a,options:{activate:!0}}),m(60),d("Setting up WP-CLI");const n="/wordpress/wp-cli.phar",l=await fetch("https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar"),o=await l.arrayBuffer();await e.writeFile(n,new Uint8Array(o)),d("Initializing block"),m(80);const{text:c}=await(0,r.gT)(e,{command:"wp post create --post_title='Welcome to Eightshift DevKit!' --post_content='\x3c!-- wp:eightshift-boilerplate/devkit-components /--\x3e' --post_status='publish'",wpCliPath:n}),u=c.substring(c.indexOf("Created post ")+13,c.lastIndexOf(".")).trim();d("Finalizing"),m(92),await e.goTo(`/wp-admin/post.php?post=${u}&action=edit`),m(100),await new Promise((e=>setTimeout(e,1500))),p(!1)})()}),[]);const w=(0,i.useRef)(null);return(0,o.jsxs)(l.A,{title:"Playground",description:t.tagline,keywords:t.customFields.keywords,metaImage:(0,n.Ay)(`img/${t.customFields.image}`),wrapperClassName:"es-single-full-screen-child es-has-t-border",children:[(0,o.jsx)("iframe",{className:"es-full-size",allow:"clipboard-read; clipboard-write",ref:w,style:{visibility:s?"hidden":"visible"}}),s&&(0,o.jsxs)("div",{className:"es-full-size flex flex-col items-center justify-center gap-1.5 esd-full-fixed",children:[(0,o.jsx)("progress",{value:u,max:100}),(0,o.jsx)("h3",{children:"Preparing component docs"}),(0,o.jsx)("span",{className:"text-12",children:c})]})]})}}}]);